# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# For development: cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Core Application
# -----------------------------------------------------------------------------
NODE_ENV=development
PORT=3000
HOST=localhost

# Public URLs (REQUIRED)
NEXT_PUBLIC_API_URL=http://localhost:3000
NEXT_PUBLIC_FRONTEND_URL=http://localhost:3000
NEXT_PUBLIC_SERVICE_MODE=server

# -----------------------------------------------------------------------------
# Database (REQUIRED)
# -----------------------------------------------------------------------------
# Using docker-compose.yml PostgreSQL on port 5433
DATABASE_URL=postgresql://postgres:postgres@localhost:5433/app_dev
DATABASE_DRIVER=pg

# Alternative: Individual DB params (if not using DATABASE_URL)
# DB_HOST=localhost
# DB_PORT=5433
# DB_NAME=app_dev
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_SSL=false

# Connection pool settings (optional)
# DB_POOL_MIN=2
# DB_POOL_MAX=10
# DB_CONNECTION_TIMEOUT=30000
# DB_IDLE_TIMEOUT=10000

# -----------------------------------------------------------------------------
# Authentication - Better Auth
# -----------------------------------------------------------------------------
# Cookie settings
COOKIE_PREFIX=app
# COOKIE_DOMAIN=localhost
# ENABLE_CROSS_SUBDOMAIN_COOKIES=false

# Password requirements
MIN_PASSWORD_LENGTH=8
MAX_PASSWORD_LENGTH=128

# Session settings
# MAX_SESSIONS_PER_USER=5

# CORS & Trusted Origins
CORS_ORIGIN=http://localhost:3000
TRUSTED_ORIGINS=http://localhost:3000,http://localhost:3001

# -----------------------------------------------------------------------------
# OAuth Providers (Optional - enable as needed)
# -----------------------------------------------------------------------------
# AUTH_PROVIDERS=google,facebook

# Google OAuth
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# Facebook OAuth
# FACEBOOK_CLIENT_ID=your-facebook-app-id
# FACEBOOK_CLIENT_SECRET=your-facebook-app-secret
# FACEBOOK_REDIRECT_URI=http://localhost:3000/api/auth/callback/facebook

# Apple OAuth
# APPLE_CLIENT_ID=your-apple-client-id
# APPLE_CLIENT_SECRET=your-apple-client-secret
# APPLE_APP_BUNDLE_IDENTIFIER=com.yourapp.bundle

# -----------------------------------------------------------------------------
# Email Service (REQUIRED for auth emails)
# -----------------------------------------------------------------------------
EMAIL_PROVIDER=resend
EMAIL_FROM=noreply@yourdomain.com

# Resend (default provider)
RESEND_KEY=re_xxxxxxxxxxxx

# AWS SES (alternative)
# EMAIL_PROVIDER=ses
# AWS_SES_REGION=us-east-1
# AWS_SES_ACCESS_KEY_ID=your-access-key
# AWS_SES_SECRET_ACCESS_KEY=your-secret-key
# AWS_SES_CONFIGURATION_SET_NAME=your-config-set
# AWS_SES_FROM_ARN=arn:aws:ses:region:account:identity/email

# -----------------------------------------------------------------------------
# File Storage - Cloudflare R2 (Optional)
# -----------------------------------------------------------------------------
# R2_ACCOUNT_ID=your-account-id
# R2_ACCESS_KEY_ID=your-access-key
# R2_SECRET_ACCESS_KEY=your-secret-key
# R2_BUCKET_NAME=your-bucket
# R2_PUBLIC_URL=https://your-bucket.r2.dev
# R2_REGION=auto

# -----------------------------------------------------------------------------
# Redis (Optional - for caching/sessions)
# -----------------------------------------------------------------------------
# ENABLE_REDIS=true
# REDIS_URL=redis://localhost:6379/0
# Or individual params:
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0
# REDIS_USERNAME=

# -----------------------------------------------------------------------------
# Background Jobs - pg-boss (Optional)
# -----------------------------------------------------------------------------
# ENABLE_QUEUE=true
# QUEUE_SCHEMA=pgboss
# QUEUE_RETRY_LIMIT=3
# QUEUE_RETRY_DELAY=30
# QUEUE_RETRY_BACKOFF=true
# QUEUE_MAX_EXPIRY_HOURS=12
# QUEUE_ARCHIVE_COMPLETED_HOURS=24
# QUEUE_DELETE_AFTER_DAYS=7
# QUEUE_MAINTENANCE_INTERVAL_MINUTES=60

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
# ENABLE_EMAIL_PASSWORD=true
# ENABLE_MAGIC_LINK=false
# ENABLE_OTP=true
# ENABLE_USERNAME=true
# ENABLE_JWT=false
# ENABLE_MULTI_SESSION=true
# ENABLE_ONE_TAP=false
# ENABLE_WEBSOCKET=false
# ENABLE_ADMIN_UI=true
# DISABLE_SIGNUP=false

# -----------------------------------------------------------------------------
# Notifications (Optional)
# -----------------------------------------------------------------------------
# NOTIFICATIONS_PUSH_ENABLED=true
# NOTIFICATIONS_EMAIL_ENABLED=true
# NOTIFICATIONS_SMS_ENABLED=false

# -----------------------------------------------------------------------------
# OTP Settings
# -----------------------------------------------------------------------------
# OTP_LENGTH=6
# OTP_EXPIRY_MINUTES=10
# OTP_MAX_ATTEMPTS=3
# MAGIC_LINK_EXPIRY_MINUTES=30

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
# RATE_LIMIT_MAX=100
# RATE_LIMIT_WINDOW=60000

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=debug
LOG_PRETTY=true

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
# API_VERSION=v1
# API_PREFIX=/api
# HEALTH_CHECK_INTERVAL=30000

# -----------------------------------------------------------------------------
# JWT (if enabled)
# -----------------------------------------------------------------------------
# JWT_ISSUER=http://localhost:3000
# JWT_AUDIENCE=http://localhost:3000

# -----------------------------------------------------------------------------
# Admin
# -----------------------------------------------------------------------------
# ADMIN_EMAILS=admin@example.com
